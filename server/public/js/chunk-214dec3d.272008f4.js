(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-214dec3d"],{"0620":function(t,e,s){},1641:function(t,e,s){"use strict";var i=s("b706"),o=s.n(i);o.a},"7f1d":function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"app"},[s("Navbar"),s("div",{staticClass:"container"},[s("div",{staticClass:"row row justify-content-md-center"},[s("div",{staticClass:"col-md-8"},[s("PostData",{attrs:{post:t.post,id:t.id}}),s("Comments",{attrs:{post:t.post,id:t.id}})],1)])])],1)},o=[],n=s("d178"),a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"hello"},[s("div",{staticClass:"card"},[s("div",{staticClass:"card-header d-flex justify-content-between align-items-center"},[t.editPermission?t._e():s("h2",[t._v(t._s(t.post.title))]),s("div",{staticClass:"align-items-center"},[t.editPermission?s("input",{directives:[{name:"model",rawName:"v-model",value:t.$v.postEdited.title.$model,expression:"$v.postEdited.title.$model"}],class:{"is-invalid":t.$v.postEdited.title.$error,"is-valid":!t.$v.postEdited.title.$invalid},attrs:{type:"text",placeholder:"El nombre de su post"},domProps:{value:t.$v.postEdited.title.$model},on:{input:function(e){e.target.composing||t.$set(t.$v.postEdited.title,"$model",e.target.value)}}}):t._e(),t.$v.postEdited.title.required?t._e():s("span",{staticClass:"invalid-feedback"},[t._v("Este campo no puede ser vacio")]),t.$v.postEdited.title.maxLength?t._e():s("span",{staticClass:"invalid-feedback"},[t._v("El titulo no puedde pasar de 35 caracteres")])]),t.postOwner?s("div",[t.editPermission?t._e():s("div",[s("button",{staticClass:"btn btn-info",attrs:{id:"btn-delete"},on:{click:function(e){return t.mostrarUpdatedPost()}}},[t._v("Update")]),s("button",{staticClass:"btn btn-danger",attrs:{id:"btn-delete"},on:{click:function(e){return t.destroyPost()}}},[t._v(" Delete")])]),t.editPermission?s("div",[s("button",{staticClass:"btn btn-info",attrs:{id:"btn-delete"},on:{click:function(e){return t.updatePost()}}},[t._v("Save")]),s("button",{staticClass:"btn btn-danger",attrs:{id:"btn-delete"},on:{click:function(e){return t.ocultarUpdatePost()}}},[t._v(" Cancel")])]):t._e()]):t._e()]),s("div",{staticClass:"card-body"},[t.editPermission?t._e():s("p",[t._v(t._s(t.post.description))]),t.editPermission?s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.postEdited.description,expression:"postEdited.description"}],staticClass:"form-control my-2",attrs:{placeholder:"Descripcion de su post"},domProps:{value:t.postEdited.description},on:{input:function(e){e.target.composing||t.$set(t.postEdited,"description",e.target.value)}}}):t._e(),s("div",{staticClass:"text-center"},[s("img",{staticClass:"img-thumbnail",attrs:{src:t.post.imageUrl,id:"image"}})])]),s("div",{staticClass:"card-footer d-flex justify-content-between align-items-center"},[t.permissionToLeaveALike?t._e():s("button",{staticClass:"btn btn-success",on:{click:function(e){return t.like()}}},[t._v("Like")]),t.permissionToLeaveALike?s("button",{staticClass:"btn btn-danger",on:{click:function(e){return t.dislike()}}},[t._v("Dislike")]):t._e(),s("span",[t._v(t._s(t.post.like.length))])])])])},c=[],r=(s("a4d3"),s("e01a"),s("b5ae")),d={props:["post","id"],data:function(){return{editPermission:!1,postEdited:{title:"",description:""},permissionToLeaveALike:!1,postOwner:""}},validations:{postEdited:{title:{required:r["required"],maxLength:Object(r["maxLength"])(35)}}},mounted:function(){this.getEnsurePostOwner(),this.didYouLeaveTheLike()},methods:{getEnsurePostOwner:function(){var t=this;this.axios.get("post/ensurePostOwner/".concat(this.id)).then((function(e){e.data.postOwner?t.postOwner=!0:t.postOwner=!1})).catch((function(e){console.log("error"+e),t.postOwner=!1}))},mostrarUpdatedPost:function(){this.postEdited.title=this.post.title,this.postEdited.description=this.post.description,this.editPermission=!0},ocultarUpdatePost:function(){this.editPermission=!1},destroyPost:function(){var t=this;this.axios.delete("post/destroy/".concat(this.id)).then((function(e){alert("Se elimino el post correctamente"),t.$router.push({path:"/home"})})).catch((function(t){console.log(t.response.data.error)}))},updatePost:function(){var t=this;this.$v.$touch(),this.$v.$invalid||this.axios.put("/post/edit/".concat(this.id),this.postEdited).then((function(e){alert("Se actualizo la informacion de el post correctamente"),t.editPermission=!1,t.post.title=t.postEdited.title,t.post.description=t.postEdited.description})).catch((function(t){console.log(t.response.data.error)}))},didYouLeaveTheLike:function(){var t=this;this.axios.get("like/didYouLeaveTheLike/".concat(this.id)).then((function(e){e.data.leaveTheLike?t.permissionToLeaveALike=!0:t.leaveTheLike=!1})).catch((function(t){console.log("error"+t)}))},like:function(){var t=this;this.axios.post("/like/add/".concat(this.id)).then((function(e){t.permissionToLeaveALike=!0,t.post.like.length++})).catch((function(t){console.log(t.response.data.error)}))},dislike:function(){var t=this;this.axios.delete("/like/destroy/".concat(this.id)).then((function(e){t.permissionToLeaveALike=!1,t.post.like.length--})).catch((function(t){console.log(t.response.data.error)}))}}},l=d,m=s("2877"),u=Object(m["a"])(l,a,c,!1,null,null,null),p=u.exports,v=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"card mt-2"},[t._m(0),s("div",{staticClass:"form-group",attrs:{id:"CommentInput"}},[s("textarea",{directives:[{name:"model",rawName:"v-model.trim",value:t.$v.comment.comment.$model,expression:"$v.comment.comment.$model",modifiers:{trim:!0}}],staticClass:"form-control",class:{"is-invalid":t.$v.comment.comment.$error,"is-valid":!t.$v.comment.comment.$invalid},attrs:{placeholder:"Leave your Comment"},domProps:{value:t.$v.comment.comment.$model},on:{input:function(e){e.target.composing||t.$set(t.$v.comment.comment,"$model",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),t.$v.comment.comment?s("span",{staticClass:"invalid-feedback"},[t._v(" Este campo no puede ser vacio ")]):t._e()]),s("div",[s("button",{staticClass:"btn btn-success",attrs:{id:"btn-comment"},on:{click:function(e){return t.addAComment(t.comment)}}},[t._v(" Post")])]),t._l(t.comments,(function(e){return s("ul",{staticClass:"list-group p-4"},[s("li",{staticClass:"list-group-item"},[s("div",{staticClass:"row"},[s("a",{staticClass:"col text-center",attrs:{href:"/user/show/"+e.userId}},[s("img",{attrs:{src:t.post.imageUrl,id:"profilePicture"}})]),s("blockquote",{staticClass:"col"},[s("a",{staticClass:"col text-center",attrs:{href:"/comment/show/"+e.id}},[s("p",{staticClass:"lead"},[t._v(t._s(e.comment))])]),s("footer",{staticClass:"blockquote-footer"},[t._v(t._s(e.user.email))])])])])])}))],2)])},h=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"card-header d-flex justify-content-between align-items-center"},[s("h3",[t._v("Comments")])])}],f={props:["post","id"],data:function(){return{showComment:!1,comments:{},comment:{comment:"",user:{email:""}}}},validations:{comment:{comment:{required:r["required"]}}},created:function(){this.getComments()},methods:{showAddComment:function(){this.showComment=!0},getComments:function(){var t=this;this.axios.get("/comment/show/".concat(this.id)).then((function(e){t.comments=e.data})).catch((function(t){console.log("error"+t)}))},addAComment:function(t){var e=this;this.$v.$touch(),this.$v.$invalid||this.axios.post("comment/add/".concat(this.id),t).then((function(s){alert("Se agrego el comentario exitosamente"),t.user.email=s.data.email,e.comments.push(t),e.comment.comment="",e.getComments()})).catch((function(t){console.log(t.response.data.error)}))},showAllComments:function(){this.showMyComments=!1}}},b=f,g=(s("bbec"),Object(m["a"])(b,v,h,!1,null,null,null)),C=g.exports,$={components:{Navbar:n["a"],PostData:p,Comments:C},data:function(){return{post:{like:{}},id:this.$route.params.id}},mounted:function(){this.getPost()},methods:{getPost:function(){var t=this;this.axios.get("post/show/".concat(this.id)).then((function(e){t.post=e.data[0]})).catch((function(t){console.log("error"+t)}))}}},_=$,k=(s("1641"),Object(m["a"])(_,i,o,!1,null,null,null));e["default"]=k.exports},b706:function(t,e,s){},bbec:function(t,e,s){"use strict";var i=s("0620"),o=s.n(i);o.a}}]);
//# sourceMappingURL=chunk-214dec3d.272008f4.js.map